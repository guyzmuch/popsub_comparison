<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Super Chat temps r√©el !</title>
        <style>
            #zone_chat strong {
                color: white;
                background-color: black;
                padding: 2px;
            }

        </style>
    </head>

    <body>
        <p>Select the room you want</p>
        <ul>
          <li>
            <a href="room1">Room 1</a>
          </li>
          <li>
            <a href="room2">Room 2</a>
          </li>
          <li>
            <a href="room3">Room 3</a>
          </li>
        </ul>

        <hr/>

        <form action="/" method="post" id="formulaire_chat">
            <input type="text" name="message" id="message" placeholder="Votre message..." size="50" autofocus />
            <input type="submit" id="envoi_message" value="Envoyer" />
        </form>
          
        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

          <script>


            // Lorsqu'on envoie le formulaire, on transmet le message et on l'affiche sur la page
            $('#formulaire_chat').submit(function () {
                var message = $('#message').val();
                $.post( "broadcast", { 'data': message } )
                    .done(function() {
                        $('#message').val('').focus(); // Vide la zone de Chat et remet le focus dessus
                    });

                return false; 
            });

        </script>
    </body>
</html>
